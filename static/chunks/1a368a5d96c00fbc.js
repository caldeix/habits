(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(48946),r=e.i(31480),l=e.i(70065);function i(){let[e,i]=(0,s.useState)(0);(0,s.useEffect)(()=>a.gameStore.subscribe(()=>{i(e=>e+1)}),[]);let n=a.gameStore.getState(),c=n.player.totalXp,d=n.player.level,o=(0,r.getProgressToNextLevel)(c);return(0,t.jsx)(l.Card,{className:"bg-surface border-surface-light/30 p-6",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-text-muted mb-1",children:"Current Level"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-primary",children:d})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-text-muted mb-1",children:"Total XP"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-accent-gold",children:c.toLocaleString()})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("span",{className:"text-xs text-text-muted",children:["Progress to Level ",d+1]}),(0,t.jsxs)("span",{className:"text-xs font-semibold text-accent-gold",children:[o.current,"/",o.total]})]}),(0,t.jsx)("div",{className:"w-full bg-surface-light/30 rounded-full h-3 overflow-hidden border border-surface-light/20",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-primary via-accent-emerald to-accent-gold h-full transition-all duration-500",style:{width:`${o.percentage}%`}})})]})]})})}function n(){let[e,r]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=a.gameStore.subscribe(()=>{r(e=>e+1)});return()=>e()},[]);let i=a.gameStore.getState().player.coins;return(0,t.jsx)(l.Card,{className:"p-4 border-none shadow-none",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-4xl font-bold text-accent-gold",children:i.toLocaleString()})}),(0,t.jsx)("div",{className:"text-3xl",children:"ðŸ’°"})]})})}function c({gameState:e}){let[r,i]=(0,s.useState)(0);(0,s.useEffect)(()=>a.gameStore.subscribe(()=>{i(e=>e+1)}),[]);let n=a.gameStore.getState(),c=Array.from(n.streaks.values()).map(e=>({...e,habitName:n.habits.find(t=>t.id===e.habitId)?.name||"Unknown"})).filter(e=>e.current>0||e.longest>0).sort((e,t)=>t.current-e.current).slice(0,5);return 0===c.length?null:(0,t.jsxs)(l.Card,{className:"bg-surface border-surface-light/30 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-text mb-4",children:"Your Streaks"}),(0,t.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-surface-light/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-text",children:e.habitName}),(0,t.jsxs)("p",{className:"text-xs text-text-muted",children:["Longest: ",e.longest," days"]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"ðŸ”¥"}),(0,t.jsx)("div",{className:"font-bold text-lg text-accent-gold",children:e.current})]})]},e.habitId))})]})}var d=e.i(67881);function o({gameState:e}){let[r,i]=(0,s.useState)(e||{player:{name:"Player",level:1,coins:0,xp:0},habits:[],rewards:[],completions:new Map,xpHistory:[],spendingHistory:[],streaks:new Map}),[n,c]=(0,s.useState)(new Set);(0,s.useEffect)(()=>a.gameStore.subscribe(()=>{i(a.gameStore.getState())}),[]);let o=r?.player?.coins??0,m=r?.rewards&&Array.isArray(r.rewards)?r.rewards.filter(e=>!0===e.visibleInStore):[];return(console.log("[v0] Visible rewards:",m),m&&0!==m.length)?(0,t.jsxs)(l.Card,{className:"bg-surface border-surface-light/30 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-text mb-4",children:"Rewards Store"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:m.map(e=>{let s=o>=e.cost,r=n.has(e.id);return(0,t.jsxs)("div",{className:`p-3 rounded-lg border transition-all ${s?"bg-surface-light/30 border-surface-light/30 hover:border-primary/50":"bg-surface-light/10 border-surface-light/10 opacity-60"}`,children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:e.icon||"â­"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-text mb-2 line-clamp-1",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-accent-gold font-bold mb-3",children:[e.cost," coins"]}),(0,t.jsx)(d.Button,{onClick:()=>{var t;return t=e.id,void(o>=e.cost&&!n.has(t)&&(a.gameStore.purchaseReward(t),c(e=>new Set([...e,t])),setTimeout(()=>{c(e=>{let s=new Set(e);return s.delete(t),s})},3e3)))},disabled:!s||r,className:`w-full text-xs py-1 transition-all ${r?"bg-primary/50 text-primary-light":s?"bg-primary hover:bg-primary-dark text-white":"bg-surface-light/20 text-text-muted cursor-not-allowed"}`,children:r?"âœ“ Claimed!":"Claim"})]},e.id)})})]}):null}var m=e.i(91918),x=e.i(25913),u=e.i(47163);let h=(0,x.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:e,variant:s,asChild:a=!1,...r}){let l=a?m.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,u.cn)(h({variant:s}),e),...r})}function p({habit:e,isCompleted:r,onComplete:i,streak:n=0}){let[c,o]=(0,s.useState)(!1),[m,x]=(0,s.useState)(r),[u,h]=(0,s.useState)(0);(0,s.useEffect)(()=>a.gameStore.subscribe(()=>{x(!!a.gameStore.getCompletionToday(e.id)),h(e=>e+1)}),[e.id]);let p=async()=>{o(!0);try{m?a.gameStore.uncompleteHabit(e.id):i()}finally{o(!1)}},b=a.gameStore.getStreak(e.id)?.current||0,f={easy:40,"easy-medium":60,medium:100,"medium-hard":140,hard:200}[e.difficulty]||100,j=b>0?Math.min(1+.1*b,2):1,y=Math.round(f*j),N=Math.round((j-1)*100);return(0,t.jsx)(l.Card,{className:"p-4 bg-slate-900 border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-white text-lg",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex gap-2 mt-3 flex-wrap",children:[(0,t.jsx)(g,{variant:"outline",className:`${{easy:"bg-green-500","easy-medium":"bg-blue-500",medium:"bg-yellow-500","medium-hard":"bg-orange-500",hard:"bg-red-500"}[e.difficulty]} text-white border-0`,children:e.difficulty}),(0,t.jsx)(g,{variant:"outline",className:"bg-slate-700 text-slate-200 border-0",children:{daily:"Daily",weekly:"Weekly",biweekly:"Bi-weekly",monthly:"Monthly",annual:"Annual"}[e.frequency]})]}),m&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-emerald-400 font-medium",children:["âœ“ Completed â€¢ +",y," XP ",N>0&&`(+${N}%)`]})]}),(0,t.jsx)(d.Button,{onClick:p,disabled:c,className:`whitespace-nowrap ${m?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-primary hover:bg-primary-dark text-white"}`,children:m?"âœ“ Completed":"Complete"})]})})}function b({gameState:e}){let s=new Date,a=s.toDateString(),r=e.completions.filter(e=>new Date(e.completedAt).toDateString()===a),i=new Set(r.map(e=>e.habitId)).size,n=e.habits.filter(e=>{if("daily"===e.frequency)return!0;if("biweekly"===e.frequency){let t=new Date(e.createdAt);return Math.floor((s.getTime()-t.getTime())/864e5)%14==0}if("weekly"===e.frequency){let t=s.getDay();return e.weekDays?.includes(t)||!1}if("monthly-weekly"===e.frequency||"monthly-15days"===e.frequency)return!0;if("monthly-first"===e.frequency)return 1===s.getDate();if("monthly-last"===e.frequency){let e=new Date(s);return e.setDate(e.getDate()+1),e.getMonth()!==s.getMonth()}return"annual-month"===e.frequency||"annual-3months"===e.frequency||"annual-6months"===e.frequency||"annual-12months"===e.frequency}).length,c=r.reduce((e,t)=>e+t.xpGained,0),d=r.reduce((e,t)=>e+t.coinGained,0),o=n>0?Math.round(i/n*100):0,m=["Keep the momentum going!","You're doing great!","Stay consistent!","Every habit counts!","You're building a better you!"],x=m[Math.floor(Math.random()*m.length)];return(0,t.jsx)(l.Card,{className:"bg-gradient-to-br from-primary/20 to-accent-emerald/20 border-primary/30 p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-text mb-1",children:"Today's Progress"}),(0,t.jsx)("p",{className:"text-sm text-text-muted",children:x})]}),(0,t.jsx)("div",{className:"text-4xl",children:"ðŸ“Š"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"bg-surface-light/30 rounded-lg p-3 text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-primary",children:i}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"Habits Completed"})]}),(0,t.jsxs)("div",{className:"bg-surface-light/30 rounded-lg p-3 text-center",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-accent-gold",children:[o,"%"]}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"Completion Rate"})]}),(0,t.jsxs)("div",{className:"bg-surface-light/30 rounded-lg p-3 text-center",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-primary",children:["+",c]}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"XP Today"})]}),(0,t.jsxs)("div",{className:"bg-surface-light/30 rounded-lg p-3 text-center",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-accent-gold",children:["+",d]}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"Coins Today"})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("div",{className:"w-full bg-surface-light/30 rounded-full h-3 overflow-hidden border border-surface-light/20",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-primary to-accent-emerald h-full transition-all duration-500",style:{width:`${o}%`}})})})]})})}function f({gameState:e}){let[r,l]=(0,s.useState)(e),[i,n]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>a.gameStore.subscribe(()=>{let e=a.gameStore.getState();l({...e,habits:[...e.habits],completions:[...e.completions],streaks:new Map(e.streaks)})}),[]);let o=new Date().toDateString(),m=new Set(r.completions.filter(e=>new Date(e.completedAt).toDateString()===o).map(e=>e.habitId)),x=r.habits.filter(e=>e.active),u=x.filter(e=>!m.has(e.id)),h=x.filter(e=>m.has(e.id));return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(b,{gameState:r}),0===u.length&&0===h.length?(0,t.jsx)("div",{className:"text-center py-12 px-4",children:(0,t.jsx)("p",{className:"text-text-muted mb-4",children:"No habits yet. Create one to get started!"})}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between p-3 rounded-lg bg-surface-light/30 hover:bg-surface-light/50 text-text transition-colors",children:[(0,t.jsxs)("span",{className:"font-semibold",children:["Incompleted Habits (",u.length,")"]}),(0,t.jsx)("span",{className:`transition-transform ${c?"rotate-180":""}`,children:"â–¼"})]}),c&&u.map(e=>(0,t.jsx)(p,{habit:e,isCompleted:!1,onComplete:()=>{a.gameStore.completeHabit(e.id)},streak:r.streaks.get(e.id)?.current||0},e.id)),h.length>0&&(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsxs)("button",{onClick:()=>n(!i),className:"w-full flex items-center justify-between p-3 rounded-lg bg-surface-light/30 hover:bg-surface-light/50 text-text transition-colors",children:[(0,t.jsxs)("span",{className:"font-semibold",children:["Completed Habits (",h.length,")"]}),(0,t.jsx)("span",{className:`transition-transform ${i?"rotate-180":""}`,children:"â–¼"})]}),i&&(0,t.jsx)("div",{className:"space-y-3 mt-3",children:h.map(e=>(0,t.jsx)(p,{habit:e,isCompleted:!0,onComplete:()=>{a.gameStore.uncompleteHabit(e.id)},streak:r.streaks.get(e.id)?.current||0},e.id))})]})]})]})}var j=e.i(52002);function y({gameState:e}){let[r,i]=(0,s.useState)(0),[n,c]=(0,s.useState)("date"),[d,o]=(0,s.useState)("desc");(0,s.useEffect)(()=>a.gameStore.subscribe(()=>{console.log("[v0] SpendingHistory update counter incremented"),i(e=>e+1)}),[]);let m=a.gameStore.getState();console.log("[v0] SpendingHistory render - spending entries:",m?.spendingHistory?.length||0,"update:",r);let x=e=>{n===e?o("asc"===d?"desc":"asc"):(c(e),o("asc"))},u=[...m?.spendingHistory||[]].sort((e,t)=>{let s=0;switch(n){case"name":s=e.rewardName.localeCompare(t.rewardName);break;case"amount":s=e.costCoins-t.costCoins;break;default:s=new Date(e.purchasedAt).getTime()-new Date(t.purchasedAt).getTime()}return"asc"===d?s:-s}).slice(0,5);if(!m?.spendingHistory||0===m.spendingHistory.length)return null;let h=e=>n!==e?"":"asc"===d?" â†‘":" â†“";return(0,t.jsxs)(l.Card,{className:"bg-surface border-surface-light/30 p-4",children:[(0,t.jsx)("h3",{className:"font-bold text-text mb-4",children:"Rewards Spent"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsxs)("button",{onClick:()=>x("name"),className:`text-xs px-3 py-1 rounded transition-colors ${"name"===n?"bg-primary text-white":"bg-surface-light/30 text-text-muted hover:bg-surface-light/50"}`,children:["Name",h("name")]}),(0,t.jsxs)("button",{onClick:()=>x("amount"),className:`text-xs px-3 py-1 rounded transition-colors ${"amount"===n?"bg-primary text-white":"bg-surface-light/30 text-text-muted hover:bg-surface-light/50"}`,children:["Amount",h("amount")]}),(0,t.jsxs)("button",{onClick:()=>x("date"),className:`text-xs px-3 py-1 rounded transition-colors ${"date"===n?"bg-primary text-white":"bg-surface-light/30 text-text-muted hover:bg-surface-light/50"}`,children:["Date",h("date")]})]}),(0,t.jsx)("div",{className:"space-y-2",children:u.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-surface-light/20 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:e.rewardIcon}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-text",children:e.rewardName}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:new Date(e.purchasedAt).toLocaleDateString()})]})]}),(0,t.jsxs)("p",{className:"text-sm font-bold text-accent-rose",children:["-",e.costCoins," ðŸ’°"]})]},e.id))})]})}function N({gameState:e,days:a=30}){let r=(0,s.useMemo)(()=>{let t=new Date,s=[];for(let r=a-1;r>=0;r--){let a=new Date(t);a.setDate(a.getDate()-r);let l=a.toLocaleDateString("en-US",{month:"short",day:"numeric"}),i=e.xpHistory.filter(e=>new Date(e.timestamp).toDateString()===a.toDateString()).reduce((e,t)=>e+t.amount,0);s.push({date:l,xp:i,dayOfWeek:a.toLocaleDateString("en-US",{weekday:"short"})})}return s},[e.xpHistory,a]),i=Math.max(...r.map(e=>e.xp),1),n=r.reduce((e,t)=>e+t.xp,0),c=Math.round(n/a),d=(0,s.useMemo)(()=>{let e=[],t="",s=0;return r.forEach((a,r)=>{let l=`Week ${Math.ceil((r+1)/7)}`;l!==t&&s>0&&(e.push({week:t,xp:s}),s=0),t=l,s+=a.xp}),s>0&&e.push({week:t,xp:s}),e},[r,a]);return 0===n?null:(0,t.jsx)(l.Card,{className:"bg-surface border-surface-light/30 p-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-text mb-2",children:"XP Trend"}),(0,t.jsxs)("p",{className:"text-sm text-text-muted",children:["Last ",a," days"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"bg-surface-light/20 p-3 rounded",children:[(0,t.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Total XP"}),(0,t.jsx)("p",{className:"text-lg font-bold text-primary",children:n})]}),(0,t.jsxs)("div",{className:"bg-surface-light/20 p-3 rounded",children:[(0,t.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Average/Day"}),(0,t.jsx)("p",{className:"text-lg font-bold text-primary",children:c})]}),(0,t.jsxs)("div",{className:"bg-surface-light/20 p-3 rounded",children:[(0,t.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Peak Day"}),(0,t.jsx)("p",{className:"text-lg font-bold text-primary",children:Math.max(...r.map(e=>e.xp))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-text mb-3",children:"Daily XP"}),(0,t.jsx)("div",{className:"space-y-2",children:r.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-text-muted w-12",children:e.date}),(0,t.jsx)("div",{className:"flex-1 h-6 bg-surface-light/20 rounded overflow-hidden",children:e.xp>0&&(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-primary to-primary-light transition-all",style:{width:`${e.xp/i*100}%`}})}),(0,t.jsx)("span",{className:"text-xs font-semibold text-primary w-10 text-right",children:e.xp>0?e.xp:"â€”"})]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-text mb-3",children:"Weekly Summary"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:d.map((e,s)=>(0,t.jsxs)("div",{className:"bg-surface-light/20 p-3 rounded text-center",children:[(0,t.jsx)("p",{className:"text-xs text-text-muted mb-1",children:e.week}),(0,t.jsx)("p",{className:"text-lg font-bold text-primary",children:e.xp})]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-text mb-3",children:"Top Habits by XP"}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(e.xpHistory.reduce((t,s)=>{let a=e.habits.find(e=>e.id===s.habitId);return a&&(t[a.name]=(t[a.name]||0)+s.amount),t},{})).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-text-muted",children:e}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-primary",children:[s," XP"]})]},e))})]})]})})}var v=e.i(22016);function S(){let[e,r]=(0,s.useState)("Hasbit Idle"),[l,d]=(0,s.useState)(a.gameStore.getState()),[m,x]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(a.gameStore.loadGame(),d(a.gameStore.getState()),console.log("gameState",l),l)try{l.player?.name&&r(l.player.name)}catch(e){console.error("Error al cargar el perfil del jugador:",e)}let e=setInterval(()=>{d(a.gameStore.getState())},100);return()=>clearInterval(e)},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"bg-surface border-b border-surface-light/20 sticky top-0 z-40",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-text",children:[e,"'s Habit Idle"]}),(0,t.jsx)("p",{className:"text-sm text-text-muted",children:"Power up your daily routine"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n,{})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({...localStorage},null,2)),t=`habit-idle-export-${new Date().toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download",t),s.click()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",title:"Export data",children:"ðŸ’¾ Export"}),(0,t.jsxs)("button",{onClick:()=>document.getElementById("importInput")?.click(),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors",title:"Import data",children:["ðŸ“¥ Import",(0,t.jsx)("input",{id:"importInput",type:"file",accept:".json",className:"hidden",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let s=new FileReader;s.onload=e=>{try{let t=JSON.parse(e.target?.result);confirm("This will replace all your current data. Are you sure?")&&(localStorage.clear(),Object.keys(t).forEach(e=>{localStorage.setItem(e,t[e])}),window.location.reload())}catch(e){alert("Error importing data. The file might be corrupted or in the wrong format."),console.error("Import error:",e)}},s.readAsText(t),e.target.value=""}})]}),(0,t.jsx)("button",{onClick:()=>x(!m),className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg font-semibold transition-colors",children:m?"Close":"+ New Habit"}),(0,t.jsx)(v.default,{href:"/settings",className:"px-4 py-2 bg-surface-light hover:bg-surface-light/80 text-text rounded-lg font-semibold transition-colors",children:"âš™ï¸ Settings"})]})]})}),(0,t.jsx)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(0,t.jsx)("div",{className:"md:col-span-3",children:(0,t.jsx)(i,{})})}),m&&(0,t.jsx)(j.default,{onSuccess:()=>x(!1),onCancel:()=>x(!1)}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[l.xpHistory.length>0&&(0,t.jsx)(N,{gameState:l,days:7}),(0,t.jsx)(f,{gameState:l})]}),(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[l.spendingHistory.length>0&&(0,t.jsx)(y,{gameState:l}),Array.from(l.streaks.values()).some(e=>e.current>0||e.longest>0)&&(0,t.jsx)(c,{gameState:l})]}),(0,t.jsx)("div",{className:"lg:col-span-3 space-y-4",children:(0,t.jsx)(o,{gameState:l})})]})]})})]})}function w(){let[e,r]=(0,s.useState)(a.gameStore.getState());return(0,s.useEffect)(()=>{a.gameStore.loadGame()},[]),(0,s.useEffect)(()=>(r(a.gameStore.getState()),a.gameStore.subscribe(()=>{r(a.gameStore.getState())})),[]),(0,t.jsx)("main",{className:"min-h-screen bg-background",children:(0,t.jsx)(S,{gameState:e})})}e.s(["default",()=>w],31713)}]);