module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(72022),e=a.i(37915),f=a.i(3130);function g(){let[a,g]=(0,c.useState)(0);(0,c.useEffect)(()=>d.gameStore.subscribe(()=>{g(a=>a+1)}),[]);let h=d.gameStore.getState(),i=h.player.totalXp,j=h.player.level,k=(0,e.getProgressToNextLevel)(i);return(0,b.jsx)(f.Card,{className:"bg-surface border-surface-light/30 p-6",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-end justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-text-muted mb-1",children:"Current Level"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-primary",children:j})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-text-muted mb-1",children:"Total XP"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-accent-gold",children:i.toLocaleString()})]})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsxs)("span",{className:"text-xs text-text-muted",children:["Progress to Level ",j+1]}),(0,b.jsxs)("span",{className:"text-xs font-semibold text-accent-gold",children:[k.current,"/",k.total]})]}),(0,b.jsx)("div",{className:"w-full bg-surface-light/30 rounded-full h-3 overflow-hidden border border-surface-light/20",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-primary via-accent-emerald to-accent-gold h-full transition-all duration-500",style:{width:`${k.percentage}%`}})})]})]})})}function h(){let[a,e]=(0,c.useState)(0);(0,c.useEffect)(()=>{let a=d.gameStore.subscribe(()=>{e(a=>a+1)});return()=>a()},[]);let g=d.gameStore.getState().player.coins;return(0,b.jsx)(f.Card,{className:"p-4 border-none shadow-none",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-4xl font-bold text-accent-gold",children:g.toLocaleString()})}),(0,b.jsx)("div",{className:"text-3xl",children:"ðŸ’°"})]})})}function i({gameState:a}){let[e,g]=(0,c.useState)(0);(0,c.useEffect)(()=>d.gameStore.subscribe(()=>{g(a=>a+1)}),[]);let h=d.gameStore.getState(),i=Array.from(h.streaks.values()).map(a=>({...a,habitName:h.habits.find(b=>b.id===a.habitId)?.name||"Unknown"})).filter(a=>a.current>0||a.longest>0).sort((a,b)=>b.current-a.current).slice(0,5);return 0===i.length?null:(0,b.jsxs)(f.Card,{className:"bg-surface border-surface-light/30 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-text mb-4",children:"Your Streaks"}),(0,b.jsx)("div",{className:"space-y-3",children:i.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-surface-light/20 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-text",children:a.habitName}),(0,b.jsxs)("p",{className:"text-xs text-text-muted",children:["Longest: ",a.longest," days"]})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl mb-1",children:"ðŸ”¥"}),(0,b.jsx)("div",{className:"font-bold text-lg text-accent-gold",children:a.current})]})]},a.habitId))})]})}var j=a.i(40695);function k({gameState:a}){let[e,g]=(0,c.useState)(a||{player:{name:"Player",level:1,coins:0,xp:0},habits:[],rewards:[],completions:new Map,xpHistory:[],spendingHistory:[],streaks:new Map}),[h,i]=(0,c.useState)(new Set);(0,c.useEffect)(()=>d.gameStore.subscribe(()=>{g(d.gameStore.getState())}),[]);let k=e?.player?.coins??0,l=e?.rewards&&Array.isArray(e.rewards)?e.rewards.filter(a=>!0===a.visibleInStore):[];return(console.log("[v0] Visible rewards:",l),l&&0!==l.length)?(0,b.jsxs)(f.Card,{className:"bg-surface border-surface-light/30 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-text mb-4",children:"Rewards Store"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.map(a=>{let c=k>=a.cost,e=h.has(a.id);return(0,b.jsxs)("div",{className:`p-3 rounded-lg border transition-all ${c?"bg-surface-light/30 border-surface-light/30 hover:border-primary/50":"bg-surface-light/10 border-surface-light/10 opacity-60"}`,children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:a.icon||"â­"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-text mb-2 line-clamp-1",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-accent-gold font-bold mb-3",children:[a.cost," coins"]}),(0,b.jsx)(j.Button,{onClick:()=>{var b;return b=a.id,void(k>=a.cost&&!h.has(b)&&(d.gameStore.purchaseReward(b),i(a=>new Set([...a,b])),setTimeout(()=>{i(a=>{let c=new Set(a);return c.delete(b),c})},3e3)))},disabled:!c||e,className:`w-full text-xs py-1 transition-all ${e?"bg-primary/50 text-primary-light":c?"bg-primary hover:bg-primary-dark text-white":"bg-surface-light/20 text-text-muted cursor-not-allowed"}`,children:e?"âœ“ Claimed!":"Claim"})]},a.id)})})]}):null}var l=a.i(11011),m=a.i(187),n=a.i(97895);let o=(0,m.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function p({className:a,variant:c,asChild:d=!1,...e}){let f=d?l.Slot:"span";return(0,b.jsx)(f,{"data-slot":"badge",className:(0,n.cn)(o({variant:c}),a),...e})}function q({habit:a,isCompleted:e,onComplete:g,streak:h=0}){let[i,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(e),[n,o]=(0,c.useState)(0);(0,c.useEffect)(()=>d.gameStore.subscribe(()=>{m(!!d.gameStore.getCompletionToday(a.id)),o(a=>a+1)}),[a.id]);let q=async()=>{k(!0);try{l?d.gameStore.uncompleteHabit(a.id):g()}finally{k(!1)}},r=d.gameStore.getStreak(a.id)?.current||0,s={easy:40,"easy-medium":60,medium:100,"medium-hard":140,hard:200}[a.difficulty]||100,t=r>0?Math.min(1+.1*r,2):1,u=Math.round(s*t),v=Math.round((t-1)*100);return(0,b.jsx)(f.Card,{className:"p-4 bg-slate-900 border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-white text-lg",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:a.description}),(0,b.jsxs)("div",{className:"flex gap-2 mt-3 flex-wrap",children:[(0,b.jsx)(p,{variant:"outline",className:`${{easy:"bg-green-500","easy-medium":"bg-blue-500",medium:"bg-yellow-500","medium-hard":"bg-orange-500",hard:"bg-red-500"}[a.difficulty]} text-white border-0`,children:a.difficulty}),(0,b.jsx)(p,{variant:"outline",className:"bg-slate-700 text-slate-200 border-0",children:{daily:"Daily",weekly:"Weekly",biweekly:"Bi-weekly",monthly:"Monthly",annual:"Annual"}[a.frequency]})]}),l&&(0,b.jsxs)("div",{className:"mt-2 text-sm text-emerald-400 font-medium",children:["âœ“ Completed â€¢ +",u," XP ",v>0&&`(+${v}%)`]})]}),(0,b.jsx)(j.Button,{onClick:q,disabled:i,className:`whitespace-nowrap ${l?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-primary hover:bg-primary-dark text-white"}`,children:l?"âœ“ Completed":"Complete"})]})})}function r({gameState:a}){let c=new Date,d=c.toDateString(),e=a.completions.filter(a=>new Date(a.completedAt).toDateString()===d),g=new Set(e.map(a=>a.habitId)).size,h=a.habits.filter(a=>{if("daily"===a.frequency)return!0;if("biweekly"===a.frequency){let b=new Date(a.createdAt);return Math.floor((c.getTime()-b.getTime())/864e5)%14==0}if("weekly"===a.frequency){let b=c.getDay();return a.weekDays?.includes(b)||!1}if("monthly-weekly"===a.frequency||"monthly-15days"===a.frequency)return!0;if("monthly-first"===a.frequency)return 1===c.getDate();if("monthly-last"===a.frequency){let a=new Date(c);return a.setDate(a.getDate()+1),a.getMonth()!==c.getMonth()}return"annual-month"===a.frequency||"annual-3months"===a.frequency||"annual-6months"===a.frequency||"annual-12months"===a.frequency}).length,i=e.reduce((a,b)=>a+b.xpGained,0),j=e.reduce((a,b)=>a+b.coinGained,0),k=h>0?Math.round(g/h*100):0,l=["Keep the momentum going!","You're doing great!","Stay consistent!","Every habit counts!","You're building a better you!"],m=l[Math.floor(Math.random()*l.length)];return(0,b.jsx)(f.Card,{className:"bg-gradient-to-br from-primary/20 to-accent-emerald/20 border-primary/30 p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-text mb-1",children:"Today's Progress"}),(0,b.jsx)("p",{className:"text-sm text-text-muted",children:m})]}),(0,b.jsx)("div",{className:"text-4xl",children:"ðŸ“Š"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"bg-surface-light/30 rounded-lg p-3 text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-primary",children:g}),(0,b.jsx)("p",{className:"text-xs text-text-muted",children:"Habits Completed"})]}),(0,b.jsxs)("div",{className:"bg-surface-light/30 rounded-lg p-3 text-center",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-accent-gold",children:[k,"%"]}),(0,b.jsx)("p",{className:"text-xs text-text-muted",children:"Completion Rate"})]}),(0,b.jsxs)("div",{className:"bg-surface-light/30 rounded-lg p-3 text-center",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-primary",children:["+",i]}),(0,b.jsx)("p",{className:"text-xs text-text-muted",children:"XP Today"})]}),(0,b.jsxs)("div",{className:"bg-surface-light/30 rounded-lg p-3 text-center",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-accent-gold",children:["+",j]}),(0,b.jsx)("p",{className:"text-xs text-text-muted",children:"Coins Today"})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("div",{className:"w-full bg-surface-light/30 rounded-full h-3 overflow-hidden border border-surface-light/20",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-primary to-accent-emerald h-full transition-all duration-500",style:{width:`${k}%`}})})})]})})}function s({gameState:a}){let[e,f]=(0,c.useState)(a),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!0);(0,c.useEffect)(()=>d.gameStore.subscribe(()=>{let a=d.gameStore.getState();f({...a,habits:[...a.habits],completions:[...a.completions],streaks:new Map(a.streaks)})}),[]);let k=new Date().toDateString(),l=new Set(e.completions.filter(a=>new Date(a.completedAt).toDateString()===k).map(a=>a.habitId)),m=e.habits.filter(a=>a.active),n=m.filter(a=>!l.has(a.id)),o=m.filter(a=>l.has(a.id));return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(r,{gameState:e}),0===n.length&&0===o.length?(0,b.jsx)("div",{className:"text-center py-12 px-4",children:(0,b.jsx)("p",{className:"text-text-muted mb-4",children:"No habits yet. Create one to get started!"})}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>j(!i),className:"w-full flex items-center justify-between p-3 rounded-lg bg-surface-light/30 hover:bg-surface-light/50 text-text transition-colors",children:[(0,b.jsxs)("span",{className:"font-semibold",children:["Incompleted Habits (",n.length,")"]}),(0,b.jsx)("span",{className:`transition-transform ${i?"rotate-180":""}`,children:"â–¼"})]}),i&&n.map(a=>(0,b.jsx)(q,{habit:a,isCompleted:!1,onComplete:()=>{d.gameStore.completeHabit(a.id)},streak:e.streaks.get(a.id)?.current||0},a.id)),o.length>0&&(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsxs)("button",{onClick:()=>h(!g),className:"w-full flex items-center justify-between p-3 rounded-lg bg-surface-light/30 hover:bg-surface-light/50 text-text transition-colors",children:[(0,b.jsxs)("span",{className:"font-semibold",children:["Completed Habits (",o.length,")"]}),(0,b.jsx)("span",{className:`transition-transform ${g?"rotate-180":""}`,children:"â–¼"})]}),g&&(0,b.jsx)("div",{className:"space-y-3 mt-3",children:o.map(a=>(0,b.jsx)(q,{habit:a,isCompleted:!0,onComplete:()=>{d.gameStore.uncompleteHabit(a.id)},streak:e.streaks.get(a.id)?.current||0},a.id))})]})]})]})}var t=a.i(4774);function u({gameState:a}){let[e,g]=(0,c.useState)(0),[h,i]=(0,c.useState)("date"),[j,k]=(0,c.useState)("desc");(0,c.useEffect)(()=>d.gameStore.subscribe(()=>{console.log("[v0] SpendingHistory update counter incremented"),g(a=>a+1)}),[]);let l=d.gameStore.getState();console.log("[v0] SpendingHistory render - spending entries:",l?.spendingHistory?.length||0,"update:",e);let m=a=>{h===a?k("asc"===j?"desc":"asc"):(i(a),k("asc"))},n=[...l?.spendingHistory||[]].sort((a,b)=>{let c=0;switch(h){case"name":c=a.rewardName.localeCompare(b.rewardName);break;case"amount":c=a.costCoins-b.costCoins;break;default:c=new Date(a.purchasedAt).getTime()-new Date(b.purchasedAt).getTime()}return"asc"===j?c:-c}).slice(0,5);if(!l?.spendingHistory||0===l.spendingHistory.length)return null;let o=a=>h!==a?"":"asc"===j?" â†‘":" â†“";return(0,b.jsxs)(f.Card,{className:"bg-surface border-surface-light/30 p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-text mb-4",children:"Rewards Spent"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,b.jsxs)("button",{onClick:()=>m("name"),className:`text-xs px-3 py-1 rounded transition-colors ${"name"===h?"bg-primary text-white":"bg-surface-light/30 text-text-muted hover:bg-surface-light/50"}`,children:["Name",o("name")]}),(0,b.jsxs)("button",{onClick:()=>m("amount"),className:`text-xs px-3 py-1 rounded transition-colors ${"amount"===h?"bg-primary text-white":"bg-surface-light/30 text-text-muted hover:bg-surface-light/50"}`,children:["Amount",o("amount")]}),(0,b.jsxs)("button",{onClick:()=>m("date"),className:`text-xs px-3 py-1 rounded transition-colors ${"date"===h?"bg-primary text-white":"bg-surface-light/30 text-text-muted hover:bg-surface-light/50"}`,children:["Date",o("date")]})]}),(0,b.jsx)("div",{className:"space-y-2",children:n.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 bg-surface-light/20 rounded",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-lg",children:a.rewardIcon}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-text",children:a.rewardName}),(0,b.jsx)("p",{className:"text-xs text-text-muted",children:new Date(a.purchasedAt).toLocaleDateString()})]})]}),(0,b.jsxs)("p",{className:"text-sm font-bold text-accent-rose",children:["-",a.costCoins," ðŸ’°"]})]},a.id))})]})}function v({gameState:a,days:d=30}){let e=(0,c.useMemo)(()=>{let b=new Date,c=[];for(let e=d-1;e>=0;e--){let d=new Date(b);d.setDate(d.getDate()-e);let f=d.toLocaleDateString("en-US",{month:"short",day:"numeric"}),g=a.xpHistory.filter(a=>new Date(a.timestamp).toDateString()===d.toDateString()).reduce((a,b)=>a+b.amount,0);c.push({date:f,xp:g,dayOfWeek:d.toLocaleDateString("en-US",{weekday:"short"})})}return c},[a.xpHistory,d]),g=Math.max(...e.map(a=>a.xp),1),h=e.reduce((a,b)=>a+b.xp,0),i=Math.round(h/d),j=(0,c.useMemo)(()=>{let a=[],b="",c=0;return e.forEach((d,e)=>{let f=`Week ${Math.ceil((e+1)/7)}`;f!==b&&c>0&&(a.push({week:b,xp:c}),c=0),b=f,c+=d.xp}),c>0&&a.push({week:b,xp:c}),a},[e,d]);return 0===h?null:(0,b.jsx)(f.Card,{className:"bg-surface border-surface-light/30 p-6",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-text mb-2",children:"XP Trend"}),(0,b.jsxs)("p",{className:"text-sm text-text-muted",children:["Last ",d," days"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{className:"bg-surface-light/20 p-3 rounded",children:[(0,b.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Total XP"}),(0,b.jsx)("p",{className:"text-lg font-bold text-primary",children:h})]}),(0,b.jsxs)("div",{className:"bg-surface-light/20 p-3 rounded",children:[(0,b.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Average/Day"}),(0,b.jsx)("p",{className:"text-lg font-bold text-primary",children:i})]}),(0,b.jsxs)("div",{className:"bg-surface-light/20 p-3 rounded",children:[(0,b.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Peak Day"}),(0,b.jsx)("p",{className:"text-lg font-bold text-primary",children:Math.max(...e.map(a=>a.xp))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-text mb-3",children:"Daily XP"}),(0,b.jsx)("div",{className:"space-y-2",children:e.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-text-muted w-12",children:a.date}),(0,b.jsx)("div",{className:"flex-1 h-6 bg-surface-light/20 rounded overflow-hidden",children:a.xp>0&&(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-primary to-primary-light transition-all",style:{width:`${a.xp/g*100}%`}})}),(0,b.jsx)("span",{className:"text-xs font-semibold text-primary w-10 text-right",children:a.xp>0?a.xp:"â€”"})]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-text mb-3",children:"Weekly Summary"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:j.map((a,c)=>(0,b.jsxs)("div",{className:"bg-surface-light/20 p-3 rounded text-center",children:[(0,b.jsx)("p",{className:"text-xs text-text-muted mb-1",children:a.week}),(0,b.jsx)("p",{className:"text-lg font-bold text-primary",children:a.xp})]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-text mb-3",children:"Top Habits by XP"}),(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(a.xpHistory.reduce((b,c)=>{let d=a.habits.find(a=>a.id===c.habitId);return d&&(b[d.name]=(b[d.name]||0)+c.amount),b},{})).sort(([,a],[,b])=>b-a).slice(0,5).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-text-muted",children:a}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-primary",children:[c," XP"]})]},a))})]})]})})}var w=a.i(38246);function x(){let[a,e]=(0,c.useState)("Hasbit Idle"),[f,j]=(0,c.useState)(d.gameStore.getState()),[l,m]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{if(d.gameStore.loadGame(),j(d.gameStore.getState()),console.log("gameState",f),f)try{f.player?.name&&e(f.player.name)}catch(a){console.error("Error al cargar el perfil del jugador:",a)}let a=setInterval(()=>{j(d.gameStore.getState())},100);return()=>clearInterval(a)},[]),(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"bg-surface border-b border-surface-light/20 sticky top-0 z-40",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-text",children:[a,"'s Habit Idle"]}),(0,b.jsx)("p",{className:"text-sm text-text-muted",children:"Power up your daily routine"})]}),(0,b.jsx)("div",{children:(0,b.jsx)(h,{})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{let a="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({...localStorage},null,2)),b=`habit-idle-export-${new Date().toISOString().split("T")[0]}.json`,c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",b),c.click()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",title:"Export data",children:"ðŸ’¾ Export"}),(0,b.jsxs)("button",{onClick:()=>document.getElementById("importInput")?.click(),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors",title:"Import data",children:["ðŸ“¥ Import",(0,b.jsx)("input",{id:"importInput",type:"file",accept:".json",className:"hidden",onChange:a=>{let b=a.target.files?.[0];if(!b)return;let c=new FileReader;c.onload=a=>{try{let b=JSON.parse(a.target?.result);confirm("This will replace all your current data. Are you sure?")&&(localStorage.clear(),Object.keys(b).forEach(a=>{localStorage.setItem(a,b[a])}),window.location.reload())}catch(a){alert("Error importing data. The file might be corrupted or in the wrong format."),console.error("Import error:",a)}},c.readAsText(b),a.target.value=""}})]}),(0,b.jsx)("button",{onClick:()=>m(!l),className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg font-semibold transition-colors",children:l?"Close":"+ New Habit"}),(0,b.jsx)(w.default,{href:"/settings",className:"px-4 py-2 bg-surface-light hover:bg-surface-light/80 text-text rounded-lg font-semibold transition-colors",children:"âš™ï¸ Settings"})]})]})}),(0,b.jsx)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(0,b.jsx)("div",{className:"md:col-span-3",children:(0,b.jsx)(g,{})})}),l&&(0,b.jsx)(t.default,{onSuccess:()=>m(!1),onCancel:()=>m(!1)}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[f.xpHistory.length>0&&(0,b.jsx)(v,{gameState:f,days:7}),(0,b.jsx)(s,{gameState:f})]}),(0,b.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[f.spendingHistory.length>0&&(0,b.jsx)(u,{gameState:f}),Array.from(f.streaks.values()).some(a=>a.current>0||a.longest>0)&&(0,b.jsx)(i,{gameState:f})]}),(0,b.jsx)("div",{className:"lg:col-span-3 space-y-4",children:(0,b.jsx)(k,{gameState:f})})]})]})})]})}function y(){let[a,e]=(0,c.useState)(d.gameStore.getState());return(0,c.useEffect)(()=>{d.gameStore.loadGame()},[]),(0,c.useEffect)(()=>(e(d.gameStore.getState()),d.gameStore.subscribe(()=>{e(d.gameStore.getState())})),[]),(0,b.jsx)("main",{className:"min-h-screen bg-background",children:(0,b.jsx)(x,{gameState:a})})}a.s(["default",()=>y],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map